<?xml version="1.0" encoding="UTF-8"?>
<AttributeFilterPolicyGroup id="ShibbolethFilterPolicy"
        xmlns="urn:mace:shibboleth:2.0:afp"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="urn:mace:shibboleth:2.0:afp http://shibboleth.net/schema/idp/shibboleth-afp.xsd">

    <!-- Release some attributes to an SP. -->
    <AttributeFilterPolicy id="grouper">
        <PolicyRequirementRule xsi:type="Requester" value="https://grouperdemo/shibboleth" />
        <AttributeRule attributeID="eduPersonPrincipalName" permitAny="true" />
        <AttributeRule attributeID="uid" permitAny="true" />
        <AttributeRule attributeID="mail" permitAny="true" />
    </AttributeFilterPolicy>
        
    <AttributeFilterPolicy id="comanage">
        <PolicyRequirementRule xsi:type="Requester" value="https://comanagedemo/shibboleth" />
        <AttributeRule attributeID="eduPersonPrincipalName" permitAny="true" />
        <AttributeRule attributeID="uid" permitAny="true" />
        <AttributeRule attributeID="mail" permitAny="true" />
    </AttributeFilterPolicy>

    <AttributeFilterPolicy id="midpoint">
        <PolicyRequirementRule xsi:type="Requester" value="https://midpointdemo/shibboleth" />
        <AttributeRule attributeID="uid" permitAny="true" />
    </AttributeFilterPolicy>

    <AttributeFilterPolicy id="proxy">
        <PolicyRequirementRule xsi:type="Requester" value="https://proxysp.example.org/shibboleth" />
        <AttributeRule attributeID="eduPersonPrincipalName" permitAny="true" />
        <AttributeRule attributeID="uid" permitAny="true" />
        <AttributeRule attributeID="mail" permitAny="true" />
    </AttributeFilterPolicy>
	
	<AttributeFilterPolicy id="shibui">
        <PolicyRequirementRule xsi:type="Requester" value="https://sp.example.org/shibui" />
        <AttributeRule attributeID="uid" permitAny="true" />
		<AttributeRule attributeID="mail" permitAny="true" />
    </AttributeFilterPolicy>
	
	<!-- Supports annotated metadata supplied by the Shibb UI -->
	<AttributeFilterPolicy id="Per-Attribute-singleValued">
        <PolicyRequirementRule xsi:type="ANY"/>
        <AttributeRule attributeID="eduPersonPrincipalName">
            <PermitValueRule xsi:type="EntityAttributeExactMatch"
                             attributeName="http://shibboleth.net/ns/attributes/releaseAllValues"
                             attributeValue="eduPersonPrincipalName" />
        </AttributeRule>
        <AttributeRule attributeID="uid">
            <PermitValueRule xsi:type="EntityAttributeExactMatch"
                             attributeName="http://shibboleth.net/ns/attributes/releaseAllValues"
                             attributeValue="uid" />
        </AttributeRule>
        <AttributeRule attributeID="mail">
            <PermitValueRule xsi:type="EntityAttributeExactMatch"
                             attributeName="http://shibboleth.net/ns/attributes/releaseAllValues"
                             attributeValue="mail" />
        </AttributeRule>
        <AttributeRule attributeID="surname">
            <PermitValueRule xsi:type="EntityAttributeExactMatch"
                             attributeName="http://shibboleth.net/ns/attributes/releaseAllValues"
                             attributeValue="surname" />
        </AttributeRule>
        <AttributeRule attributeID="givenName">
            <PermitValueRule xsi:type="EntityAttributeExactMatch"
                             attributeName="http://shibboleth.net/ns/attributes/releaseAllValues"
                             attributeValue="givenName" />
        </AttributeRule>
        <AttributeRule attributeID="eduPersonAffiliation">
            <PermitValueRule xsi:type="EntityAttributeExactMatch"
                             attributeName="http://shibboleth.net/ns/attributes/releaseAllValues"
                             attributeValue="eduPersonAffiliation" />
        </AttributeRule>
        <AttributeRule attributeID="eduPersonScopedAffiliation">
            <PermitValueRule xsi:type="EntityAttributeExactMatch"
                             attributeName="http://shibboleth.net/ns/attributes/releaseAllValues"
                             attributeValue="eduPersonScopedAffiliation" />
        </AttributeRule>
        <AttributeRule attributeID="eduPersonPrimaryAffiliation">
            <PermitValueRule xsi:type="EntityAttributeExactMatch"
                             attributeName="http://shibboleth.net/ns/attributes/releaseAllValues"
                             attributeValue="eduPersonPrimaryAffiliation" />
        </AttributeRule>
        <AttributeRule attributeID="eduPersonEntitlement">
            <PermitValueRule xsi:type="EntityAttributeExactMatch"
                             attributeName="http://shibboleth.net/ns/attributes/releaseAllValues"
                             attributeValue="eduPersonEntitlement" />
        </AttributeRule>
        <AttributeRule attributeID="eduPersonAssurance">
            <PermitValueRule xsi:type="EntityAttributeExactMatch"
                             attributeName="http://shibboleth.net/ns/attributes/releaseAllValues"
                             attributeValue="eduPersonAssurance" />
        </AttributeRule>
        <AttributeRule attributeID="eduPersonUniqueId">
            <PermitValueRule xsi:type="EntityAttributeExactMatch"
                             attributeName="http://shibboleth.net/ns/attributes/releaseAllValues"
                             attributeValue="eduPersonUniqueId" />
        </AttributeRule>
        <AttributeRule attributeID="employeeNumber">
            <PermitValueRule xsi:type="EntityAttributeExactMatch"
                             attributeName="http://shibboleth.net/ns/attributes/releaseAllValues"
                             attributeValue="employeeNumber" />
        </AttributeRule>
    </AttributeFilterPolicy>
	
	
</AttributeFilterPolicyGroup>
